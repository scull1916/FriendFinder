<!DOCTYPE html>

<html lang="en-us">

	<head>
		<title>Friend Finder</title>

		<meta charset="utf-8">

		<!--Bootstrap CDN -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

		<!-- jQuery CDN -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

		<!-- Font Awesome -->
		<script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


	</head>

	<body>
		<form>

		    <h2>Survey Questions</h2>
		    <hr>

			
			<div class="form-group">
			    <h3><strong>About You</strong></h3>
			    <h4>Name (Required)</h4>
			    <input type="text" id="name" class="form-control col-md-4" required="">

			    <h4>Link to Photo Image (Required)</h4>
			    <input type="text" id="photo" class="form-control col-md-4" required="">
			</div>

			    <hr>
				  <div class="form-group">
				  	<h3><strong>Question 1</strong></h3>
				  	<h5>A week in Las Vegas is my idea of a great vacation.</h5>
				    <label for="exampleFormControlSelect2">Select an option</label>
				    <select class="form-control col-sm-2 survey-answer" id="q1">
				      <option value="1">1 (Strongly Disagree)</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5 (Strongly Agree)</option>
				    </select>
				  </div>

				  <div class="form-group">
				  	<h3><strong>Question 2</strong></h3>
				  	<h5>A fried egg on top of a hamburger is a brilliant idea.</h5>
				    <label for="exampleFormControlSelect2">Select an option</label>
				    <select class="form-control col-sm-2 survey-answer" id="q2">
				      <option value="1">1 (Strongly Disagree)</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5 (Strongly Agree)</option>
				    </select>
				  </div>

				  <div class="form-group">
				  	<h3><strong>Question 3</strong></h3>
				  	<h5>There are few better ways to spend a day than a hike in the woods.</h5>
				    <label for="exampleFormControlSelect2">Select an option</label>
				    <select class="form-control col-sm-2 survey-answer" id="q3">
				      <option value="1">1 (Strongly Disagree)</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5 (Strongly Agree)</option>
				    </select>
				  </div>

				  <div class="form-group">
				  	<h3><strong>Question 4</strong></h3>
				  	<h5>I like loud, raucous parties.</h5>
				    <label for="exampleFormControlSelect2">Select an option</label>
				    <select class="form-control col-sm-2 survey-answer" id="q4">
				      <option value="1">1 (Strongly Disagree)</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5 (Strongly Agree)</option>
				    </select>
				  </div>

			      <div class="form-group">
				  	<h3><strong>Question 5</strong></h3>
				  	<h5>I'm always looking for something new to learn.</h5>
				    <label for="exampleFormControlSelect2">Select an option</label>
				    <select class="form-control col-sm-2 survey-answer" id="q5">
				      <option value="1">1 (Strongly Disagree)</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5 (Strongly Agree)</option>
				    </select>
				  </div>

				  <div class="form-group">
				  	<h3><strong>Question 6</strong></h3>
				  	<h5>I prefer to hit the mountains to ski.</h5>
				    <label for="exampleFormControlSelect2">Select an option</label>
				    <select class="form-control col-sm-2 survey-answer" id="q6">
				      <option value="1">1 (Strongly Disagree)</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5 (Strongly Agree)</option>
				    </select>
				  </div>

				  <div class="form-group">
				  	<h3><strong>Question 7</strong></h3>
				  	<h5>Sun, sand, waves - ah, the beach life!</h5>
				    <label for="exampleFormControlSelect2">Select an option</label>
				    <select class="form-control col-sm-2 survey-answer" id="q7">
				      <option value="1">1 (Strongly Disagree)</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5 (Strongly Agree)</option>
				    </select>
				  </div>

				  <div class="form-group">
				  	<h3><strong>Question 8</strong></h3>
				  	<h5>I believe firmly in keeping up on the news.</h5>
				    <label for="exampleFormControlSelect2">Select an option</label>
				    <select class="form-control col-sm-2 survey-answer" id="q8">
				      <option value="1">1 (Strongly Disagree)</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5 (Strongly Agree)</option>
				    </select>
				  </div>

				  <div class="form-group">
				  	<h3><strong>Question 9</strong></h3>
				  	<h5>All you really need to know is the location of the library.</h5>
				    <label for="exampleFormControlSelect2">Select an option</label>
				    <select class="form-control col-sm-2 survey-answer" id="q9">
				      <option value="1">1 (Strongly Disagree)</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5 (Strongly Agree)</option>
				    </select>
				  </div>

				  <div class="form-group">
				  	<h3><strong>Question 10</strong></h3>
				  	<h5>Chocolate dark, coffee black, and beer hoppy.</h5>
				    <label for="exampleFormControlSelect2">Select an option</label>
				    <select class="form-control col-sm-2 survey-answer" id="q10">
				      <option value="1">1 (Strongly Disagree)</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5 (Strongly Agree)</option>
				    </select>
				  </div>			    
			    <br>
			    <br>

			    <!-- Submit Button -->
			    <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#newFriendModal" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i>
			     Submit</button>

			    <hr>


		  </div>
		</form>
			<footer class="footer">
				<p>
					<a href="/api/friends">API Friends List</a>
					  |  
					<a href="https://github.com/scull1916/FriendFinder">Github Repo<a>
				</p>
			</footer>
		</div>

		<!-- Display New Friend -->
		<div class="modal" tabindex="-1" role="dialog" id="newFriendModal">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h3 class="modal-title">Your New Best Matched Friend:</h3>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<h2 id="newFriendName"></h2>
						<img id="newFriendImage" src="" alt="" width="300">
					</div>

				</div>
			</div>
		</div>
				
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>

	<script type="text/javascript">
		//on the button click, capture user's survey answers
		$("#submit").on("click", function(event)
			{
				event.preventDefault();

				var surveyAnswers = [];
				$(".survey-answer option:selected").each(function()
					{
						surveyAnswers.push(parseInt($(this).val()));
						console.log(surveyAnswers);
					});

				//assign form input to a variable
				var newFriend = {
					name: $("#name").val(),
					photo: $("#photo").val(),
					scores: surveyAnswers
				};
				console.log(newFriend);

				//post the new data so that it will present with the other objects in the friends.js file
				$.post("/api/friends", newFriend).done(
					function(data)
					{
						console.log(data);
						$("#newFriendName").text(data.name);
						console.log(data.name);
						
						$("#newFriendImage").attr("src", data.photo);
						console.log(data.photo);
						

						//Display the modal containing new best matched friend
						$("#newFriendModal").modal('show');

					});
			});	
	</script>
	</body>
</html>


